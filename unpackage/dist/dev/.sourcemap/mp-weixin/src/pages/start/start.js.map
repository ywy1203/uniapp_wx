{"version":3,"sources":["uni-app:///main.js","webpack:///E:/yanjiushenziliao/实习/xin-rdr-wx-2.7/src/pages/start/start.vue?d695","webpack:///E:/yanjiushenziliao/实习/xin-rdr-wx-2.7/src/pages/start/start.vue?8134","webpack:///E:/yanjiushenziliao/实习/xin-rdr-wx-2.7/src/pages/start/start.vue?dea6","webpack:///E:/yanjiushenziliao/实习/xin-rdr-wx-2.7/src/pages/start/start.vue?8f5d","uni-app:///src/pages/start/start.vue","webpack:///E:/yanjiushenziliao/实习/xin-rdr-wx-2.7/src/pages/start/start.vue?40db","webpack:///E:/yanjiushenziliao/实习/xin-rdr-wx-2.7/src/pages/start/start.vue?5156"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,gG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACiL;AACjL,gBAAgB,0LAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,grBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuB/qB;AACA,gD;;;AAGA;AACA,MADA,kBACA;AACA;AACA,qBADA;;AAGA,GALA;AAMA;AACA;AADA,GANA;AASA,QATA,oBASA;AACA;AACA,GAXA;AAYA;AACA,sBADA,gCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KATA;AAUA,kBAVA,0BAUA,CAVA,EAUA;AACA;AACA;AACA;AACA;AACA,0DADA;AAEA,wBAFA;AAGA,yBAHA;AAIA;AACA,iDADA;AAEA,2BAFA,EAJA;;AAQA;AACA;AACA;AACA;AACA;AACA,6CADA;;AAGA,aALA,MAKA;AACA;AACA;AACA;AACA;AACA,WApBA;;AAsBA,OAzBA;AA0BA,KArCA;;AAuCA,cAvCA,wBAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DADA;AAEA,4BAFA;AAGA,4BAHA;AAIA,4BAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CADA;AAEA,0CAFA;AAGA,sCAHA;AAIA,wCAJA;AAKA,yCALA;;AAOA;AACA,iDADA;;AAGA,iBAjBA,MAiBA;AACA;AACA;AACA;AACA;AACA,mBAHA;AAIA;AACA;AACA,mBANA;;AAQA;AACA,eApCA;;AAsCA,WA3CA;AA4CA;AACA;AACA;AACA;AACA;AACA,aAHA;AAIA;AACA;AACA,aANA;;AAQA,WAtDA;;AAwDA,SA1DA,MA0DA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA,WANA;;AAQA;AACA,OAxEA;AAyEA,KAjHA;AAkHA,cAlHA,wBAkHA;AACA;AACA,KApHA;AAqHA,SArHA,mBAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA,EACA;AACA;AACA;AACA;AACA;AACA,WANA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDADA;AAEA,8BAFA;AAGA,8BAHA;AAIA,8BAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCADA;AAEA,4CAFA;AAGA,wCAHA;AAIA,0CAJA;AAKA,4CALA;AAMA,2CANA;;;AASA,mBAhBA,MAgBA;AACA;AACA;AACA,iBA1BA;;AA4BA,aA1CA,MA0CA;AACA;AACA;AACA,WAhDA;AAiDA;AACA;AACA,WAnDA;;AAqDA,OAlEA;AAmEA,KAzLA;AA0LA,gBA1LA,0BA0LA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA;AACA;AACA;AACA,aAHA;AAIA;AACA;AACA,aANA;;AAQA,WAdA;;AAgBA,OAlBA;AAmBA,KA9MA;AA+MA,kBA/MA,0BA+MA,QA/MA,EA+MA;AACA;AACA;AACA;AACA;AACA,0DADA;AAEA,wBAFA;AAGA,yBAHA;AAIA,wBAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA,WAdA;;AAgBA,OAnBA;AAoBA,KApOA,EAZA,E;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAA2uC,CAAgB,4sCAAG,EAAC,C;;;;;;;;;;ACA/vC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"src/pages/start/start.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './src/pages/start/start.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./start.vue?vue&type=template&id=40d8f9be&scoped=true&\"\nvar renderjs\nimport script from \"./start.vue?vue&type=script&lang=js&\"\nexport * from \"./start.vue?vue&type=script&lang=js&\"\nimport style0 from \"./start.vue?vue&type=style&index=0&id=40d8f9be&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40d8f9be\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"src/pages/start/start.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./start.vue?vue&type=template&id=40d8f9be&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./start.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./start.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<image src=\"../../../static/bg/bg.png\" mode=\"\">\r\n\t\t\t<view class=\"container\">\r\n\t\t\t\t<!-- <button class=\"bubble\" open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\">计算机</button> -->\r\n\t\t\t\t<view class=\"bubble\" @click=\"checkToken()\"><text>计算机</text></view>\r\n\t\t\t\t<!-- <button open-type=\"getPhoneNumber\"  @getphonenumber=\"getPhoneNumber\">手机</button> -->\r\n\t\t\t\t<view class=\"shadow\"></view>\r\n\t\t\t\t<view  v-if=\"showFlag\" class=\"fixed-center get-phone\"><text class=\"absolute-width-center\">获取手机号\r\n\t\t\t\t\r\n\t\t\t\t<text  style=\"display: block; font-size: 4vw;margin-top: 2vw;color: #888888;\">需要您手机授权</text>\r\n\t\t\t\t\r\n\t\t\t\t</text>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<button type=\"primary\" class=\"absolute-width-center\" open-type=\"getPhoneNumber\"  @getphonenumber=\"getPhoneNumber\">微信用户一键绑定</button>\r\n\t\t\t\t</view>\t\r\n\t\t\t</view>\r\n\t\t</image>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { baseURL } from '../../utils/const.js';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\n\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshowFlag:false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t// ...mapGetters([\"isLogin\"])\r\n\t},\r\n\tonShow() {\r\n\t\t// this.checkToken()\r\n\t},\r\n\tmethods: {\r\n\t\t__buildAuthHeaders() {\r\n\t\t\tlet headers = {};\r\n\t\t\t// let token = 'Bearer ' + uni.getStorageSync(\"token\");\r\n\t\t\t// headers['authorization'] = token;\r\n\t\t\tlet token = uni.getStorageSync(\"token\");\r\n\t\t\t//后端验证使用\r\n\t\t\theaders['token'] = token;\r\n\t\t\treturn headers;\r\n\t\t},\r\n\t\tgetPhoneNumber(e) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tlet headers = this.__buildAuthHeaders();\r\n\t\t\t\tvar that = this;\r\n\t\t\t\twx.request({\r\n\t\t\t\t\turl: baseURL + 'v2/wxAuth/getPhoneNumber',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\theader: headers,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\r\n\t\t\t\t\t\tiv: e.detail.iv\r\n\t\t\t\t\t},\r\n\t\t\t\t success: function(res) {\r\n\t\t\t\t\t\t//成功标记\r\n\t\t\t\t\t\tif (res.data.success) {\t\r\n\t\t\t\t\t\t\tresolve(res.data.result);\r\n\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\turl:'../../tabbar/home/home'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//验证失败,重新登录\t\r\n\t\t\t\t\t\t\tthat.login();\r\n\t\t\t\t\t\t\treject(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tcheckToken() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tlet token = uni.getStorageSync('token');\r\n\t\t\t\t//有token,已登录过\r\n\t\t\t\tif (token) {\r\n\t\t\t\t\t//session ok\r\n\t\t\t\t\tthis.checkSession().then(\r\n\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\tlet token = uni.getStorageSync('token');\r\n\t\t\t\t\t\t\tvar header = {};\r\n\t\t\t\t\t\t\tconst postdata = { token };\r\n\t\t\t\t\t\t\twx.request({\r\n\t\t\t\t\t\t\t\turl: baseURL + 'v2/wxAuth/checkToken',\r\n\t\t\t\t\t\t\t\theader: header,\r\n\t\t\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\t\t\tdata: postdata,\r\n\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t//token ok\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\tif (res.data && res.data.result && res.data.result.isPass) {\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userType', res.data.result.userType);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('memberNo', res.data.result.memberNo);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('upid', res.data.result.upid);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userid', res.data.result.userid);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('expired', res.data.result.expired);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.userType,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.memberNo,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.upid,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.userid,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.expired\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '../../tabbar/home/home'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t//token fail,重新login\r\n\t\t\t\t\t\t\t\t\t\tthis.login().then(\r\n\t\t\t\t\t\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\t//失败重新登录\r\n\t\t\t\t\t\t\tthis.login().then(\r\n\t\t\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//过期重新登录\r\n\t\t\t\t\tthis.login().then(\r\n\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tchangeFlag(){\r\n\t\t\tthis.showFlag  = true;\r\n\t\t},\r\n\t\tlogin() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.removeStorageSync('token');\r\n\t\t\t\tuni.removeStorageSync('memberNo');\r\n\t\t\t\tuni.removeStorageSync('upid');\r\n\t\t\t\tuni.removeStorageSync('userid');\r\n\t\t\t\tuni.getUserProfile({\r\n\t\t\t\t\tdesc: 'Wexin', // 这个参数是必须的\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.updateuserInfo(res.rawData);\r\n\t\t\t\t\t\tthis.changeFlag();\r\n\t\t\t\t\t\t// uni.setStorageSync('userInfo',this.updateuserInfo(res.rawData))\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\twx.login({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t//login成功返回code\r\n\t\t\t\t\t\tif (res.code) {\r\n\t\t\t\t\t\t\tlet header = {};\r\n\t\t\t\t\t\t\tlet code = res.code;\r\n\t\t\t\t\t\t\tlet postdata = { code };\r\n\t\t\t\t\t\t\tlet upid = uni.getStorageSync('upid') || '';\r\n\t\t\t\t\t\t\t// let channel = uni.getStorageSync(\"channel\") || \"weixin_qrcode\";\r\n\t\t\t\t\t\t\t//如果存在推广员码\r\n\t\t\t\t\t\t\t// if(upid){\r\n\t\t\t\t\t\t\t//   postdata.upid = upid;\r\n\t\t\t\t\t\t\t//   postdata.channel = channel;\r\n\t\t\t\t\t\t\t//   uni.removeStorageSync(\"upid\");\r\n\t\t\t\t\t\t\t//   uni.removeStorageSync(\"channel\");\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t//后端登录获取token\r\n\t\t\t\t\t\t\twx.request({\r\n\t\t\t\t\t\t\t\turl: baseURL + 'v2/wxAuth/login',\r\n\t\t\t\t\t\t\t\theader: header,\r\n\t\t\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\t\t\tdata: postdata,\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t//login成功获取token\r\n\t\t\t\t\t\t\t\t\tif (res.data && res.data.result && res.data.result.token) {\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('token', res.data.result.token);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('memberNo', res.data.result.memberNo);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('upid', res.data.result.upid);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userid', res.data.result.userid);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userType', res.data.result.userType);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('expired', res.data.result.expired);\r\n\t\t\t\t\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.token,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.memberNo,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.upid,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.userid,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.userType,\r\n\t\t\t\t\t\t\t\t\t\t\t...res.data.result.expired\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treject(res);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treject(res.errMsg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tcheckSession() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t//微信checkSession\r\n\t\t\t\twx.checkSession({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\t//过期重新登录\r\n\t\t\t\t\t\tthis.login().then(\r\n\t\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdateuserInfo(userInfo) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t//拼接token header\r\n\t\t\t\tlet headers = this.__buildAuthHeaders();\r\n\t\t\t\twx.request({\r\n\t\t\t\t\turl: baseURL + 'v2/wxAuth/updateUserInfo',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\theader: headers,\r\n\t\t\t\t\tdata: userInfo ,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t//成功标记\r\n\t\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('userInfo');\r\n\t\t\t\t\t\t\tuni.setStorageSync('userInfo',res.data.result);\r\n\t\t\t\t\t\t\tresolve(res.data.result);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treject(null);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.content {\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n}\r\n.get-phone{\r\n\twidth: 70vw;\r\n\theight: 30vh;\r\n\tborder-radius:6vw ;\r\n\tbackground-color: #fff;\r\n\tbox-shadow: 5rpx 5rpx 10rpx #888888;\r\n\tbutton{\r\n\t\tposition: absolute;\r\n\t\tbottom: 10%;\r\n\t\twidth: 80%;\t\r\n\t}\r\n\ttext{\r\n\t\tfont-size: 6vw;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: black;\r\n\t\ttop: 20%;\r\n\t}\r\n}\r\n\r\n.container {\r\n\twidth: 30vw;\r\n\theight: 30vw;\r\n\t/* 相对定位 */\r\n\tposition: fixed;\r\n\ttop: 14vh;\r\n\tleft: 10vw;\r\n}\r\n\r\n.bubble {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\t/* 径向渐变 */\r\n\tbackground: radial-gradient(circle at 75% 30%, #fff 5px, #597dff 8%, #5b5b5b 60%, #597dff 100%);\r\n\tborder-radius: 50%;\r\n\t/* 阴影 */\r\n\r\n\tbox-shadow: inset 0 0 3vw #fff, inset 1.5vw 0 7vw #eaf5fc, inset 12vw 0 9vw #6ba0ef, inset -3vw -9vw 15vw #e0edf9, inset 0 7.5vw 21vw #f9f6de, 0 0 14vw #fff;\r\n\t/* 执行动画：动画名 时长 加速后减速 无限次播放 */\r\n\tanimation: bubble 5s ease-in-out infinite;\r\n\tposition: relative;\r\n\ttext {\r\n\t\tcolor: #738628;\r\n\t\tfloat: right;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t}\r\n}\r\n.shadow {\r\n\tbackground-color: rgba(0, 0, 0, 0.15);\r\n\twidth: 22vw;\r\n\theight: 5.9vw;\r\n\tborder-radius: 50%;\r\n\t/* 绝对定位 */\r\n\tposition: fixed;\r\n\ttop: 30vh;\r\n\tleft: 14vw;\r\n\r\n\t/* 一点点模糊效果 */\r\n\tfilter: blur(1px);\r\n\t/* 执行动画：动画名 时长 加速后减速 无限次播放 */\r\n\tanimation: shadow 5s ease-in-out infinite;\r\n}\r\n\r\n/* 定义动画 */\r\n/* 泡泡浮动动画 */\r\n@keyframes bubble {\r\n\t0%,\r\n\t100% {\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\t50% {\r\n\t\ttransform: translateY(-5vh);\r\n\t}\r\n}\r\n/* 投影动画 */\r\n@keyframes shadow {\r\n\t0%,\r\n\t100% {\r\n\t\ttransform: scale(0.5);\r\n\t}\r\n\t50% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./start.vue?vue&type=style&index=0&id=40d8f9be&lang=less&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder X\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./start.vue?vue&type=style&index=0&id=40d8f9be&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1653725680271\n      var cssReload = require(\"D:/HBuilder X/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}